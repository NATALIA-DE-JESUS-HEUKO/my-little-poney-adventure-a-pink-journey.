# my_little_pony_adventure.py

def introducao():
    """Apresenta o jogo e o objetivo ao jogador."""
    print("---")
    print("Bem-vinda(o) a Equestria, um mundo cintilante em tons de rosa e magia!")
    print("A amizade é o elemento mais poderoso aqui, mas algo está fora do lugar...")
    print("As Cutie Marks de todos os pôneis estão perdendo seu brilho rosado!")
    print("Sua missão é ajudar as Mane Six a restaurar o brilho das Cutie Marks e a paz em Equestria.")
    print("---")

def sala_inicial():
    """Define a primeira sala do jogo."""
    print("\nVocê está no **Ponyville**, um vilarejo adorável com casas em tons pastel e jardins floridos.")
    print("O ar tem um perfume doce de maçãs e o céu é um tom perfeito de rosa pêssego.")
    print("Twilight Sparkle, com sua crina roxa e rosa, te encontra com uma expressão preocupada.")
    print("Ela pergunta: 'Qual caminho devemos seguir primeiro? Norte, Leste ou Oeste?'")

    escolha = input("> ").strip().lower()
    return escolha

def explorar_ponyville(inventario):
    """Explora a área de Ponyville e encontra Pinkie Pie."""
    print("\nVocê decide ir para o Leste, em direção à **Sugarcube Corner**, o local mais doce de Ponyville.")
    print("O cheiro de doces recém-assados é quase esmagador, e tudo é decorado com laços e balões rosa choque!")
    print("Lá, você encontra Pinkie Pie, pulando de alegria mesmo com o problema das Cutie Marks.")
    print("Pinkie Pie oferece um cupcake com cobertura rosa brilhante. Você aceita? (sim/não)")

    aceitar_cupcake = input("> ").strip().lower()
    if aceitar_cupcake == "sim":
        print("Você come o cupcake e sente uma explosão de energia rosa! Pinkie Pie sorri.")
        inventario.append("cupcake mágico")
        print("Seu inventário: ", inventario)
    else:
        print("Você agradece, mas recusa. Pinkie Pie parece um pouco desapontada.")

    print("Pinkie Pie diz: 'Eu ouvi dizer que Rainbow Dash está no **Cloudsdale**, mas algo parece estranho por lá!'")
    print("Para onde você quer ir agora? (Cloudsdale/Voltar para Ponyville)")

    escolha = input("> ").strip().lower()
    return escolha

def explorar_cloudsdale(inventario):
    """Explora Cloudsdale e interage com Rainbow Dash."""
    print("\nVocê parte para **Cloudsdale**, um reino nas nuvens com tons de azul e rosa ao pôr do sol.")
    print("As nuvens são macias e fofas, e há arcos-íris pálidos por toda parte.")
    print("Você encontra Rainbow Dash, que está tentando realizar um Sonic Rainboom, mas não consegue!")
    print("Ela está frustrada: 'Minha Cutie Mark está falhando! Preciso de algo para me dar mais velocidade!'")

    if "cupcake mágico" in inventario:
        print("Você se lembra do cupcake mágico que Pinkie Pie te deu. Quer oferecê-lo a Rainbow Dash? (sim/não)")
        oferecer_cupcake = input("> ").strip().lower()
        if oferecer_cupcake == "sim":
            print("Rainbow Dash come o cupcake e sente um fluxo de energia! Ela sorri e sua Cutie Mark brilha um pouco mais forte!")
            print("Ela consegue realizar um pequeno Sonic Rainboom! 'Isso me deu um impulso! Obrigada!'")
            inventario.remove("cupcake mágico")
            print("Seu inventário: ", inventario)
            print("Rainbow Dash diz: 'Eu vi Fluttershy indo para a **Everfree Forest**, ela parecia muito preocupada.'")
            print("Para onde você quer ir agora? (Everfree Forest/Voltar para Cloudsdale)")
        else:
            print("Você decide não oferecer o cupcake. Rainbow Dash continua frustrada.")
            print("Você precisa encontrar uma solução para Rainbow Dash.")
            print("Para onde você quer ir agora? (Voltar para Ponyville/Ficar em Cloudsdale)")
    else:
        print("Você não tem nada que possa ajudar Rainbow Dash no momento.")
        print("Para onde você quer ir agora? (Voltar para Ponyville/Ficar em Cloudsdale)")

    escolha = input("> ").strip().lower()
    return escolha

def explorar_everfree_forest(inventario):
    """Explora a Everfree Forest e encontra Fluttershy."""
    print("\nVocê entra na **Everfree Forest**, uma floresta misteriosa onde a natureza selvagem floresce em tons de verde escuro e orquídeas rosa florescem em cantos escondidos.")
    print("O ar é úmido e você ouve o farfalhar das folhas. Você encontra Fluttershy, tentando acalmar alguns coelhos assustados.")
    print("Ela sussurra: 'Os animais estão tão agitados... As Cutie Marks deles também estão pálidas.'")
    print("Fluttershy precisa de ajuda para acalmar os animais. Você tem algo em seu inventário que possa ajudar? (Dica: pense no que Pinkie Pie oferece!)")

    # Adicione lógica para interagir com Fluttershy e talvez usar um item do inventário
    # ... (você pode adicionar mais itens e interações aqui)
    print("O jogo continua... você precisa encontrar uma solução para Fluttershy.")
    print("Para onde você quer ir agora? (Voltar para Ponyville/Ficar na Everfree Forest)")
    escolha = input("> ").strip().lower()
    return escolha


def fim_do_jogo(inventario):
    """Condições de vitória ou derrota."""
    if "final_feliz" in inventario: # Exemplo de condição de vitória
        print("\n---")
        print("Parabéns! Você ajudou as pôneis a restaurar o brilho de suas Cutie Marks!")
        print("Equestria está novamente cheia de cor e amizade! A magia rosa da amizade triunfou!")
        print("---")
    else:
        print("\n---")
        print("Parece que as Cutie Marks ainda estão um pouco pálidas...")
        print("Não desanime! Tente novamente para trazer a cor de volta a Equestria!")
        print("---")

def main():
    """Função principal do jogo."""
    inventario = []
    introducao()

    local_atual = "ponyville"

    while True:
        if local_atual == "ponyville":
            escolha_ponyville = sala_inicial()
            if escolha_ponyville == "leste":
                local_atual = explorar_ponyville(inventario)
            elif escolha_ponyville == "norte":
                print("Você tenta ir para o Norte, mas o caminho parece bloqueado por flores de cerejeira em tons de rosa. Tente outro caminho por enquanto.")
                continue # Volta para o início do loop para fazer uma nova escolha
            elif escolha_ponyville == "oeste":
                print("Você tenta ir para o Oeste, mas o caminho leva a Sweet Apple Acres. Talvez mais tarde.")
                continue
            else:
                print("Escolha inválida. Por favor, digite Norte, Leste ou Oeste.")
                continue

        elif local_atual == "cloudsdale":
            escolha_cloudsdale = explorar_cloudsdale(inventario)
            if escolha_cloudsdale == "everfree forest":
                local_atual = explorar_everfree_forest(inventario)
            elif escolha_cloudsdale == "voltar para ponyville":
                local_atual = "ponyville"
            elif escolha_cloudsdale == "ficar em cloudsdale":
                print("Você decide ficar em Cloudsdale, observando as nuvens rosa. O que você quer fazer agora?")
                # Adicione mais opções ou continue o loop
                continue
            else:
                print("Escolha inválida. Por favor, digite Everfree Forest, Voltar para Ponyville ou Ficar em Cloudsdale.")
                continue

        elif local_atual == "everfree forest":
            escolha_everfree = explorar_everfree_forest(inventario)
            if escolha_everfree == "voltar para ponyville":
                local_atual = "ponyville"
            elif escolha_everfree == "ficar na everfree forest":
                print("Você decide ficar na Everfree Forest, ouvindo os sons da natureza. O que você quer fazer agora?")
                # Adicione mais opções ou continue o loop
                continue
            else:
                print("Escolha inválida. Por favor, digite Voltar para Ponyville ou Ficar na Everfree Forest.")
                continue

        # Adicione condições de saída para o jogo
        if "final_feliz" in inventario: # Exemplo de condição de vitória
            fim_do_jogo(inventario)
            break
        # Adicione uma forma de sair do jogo se o jogador quiser ou se não houver mais opções
        # Por exemplo, digite 'sair' a qualquer momento
        # if input("Digite 'sair' para encerrar o jogo ou qualquer coisa para continuar: ").strip().lower() == "sair":
        #     break

    fim_do_jogo(inventario)


if __name__ == "__main__":
    main()
